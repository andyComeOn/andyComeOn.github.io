<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-layui中函数使用方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/14/layui中函数使用方法/" class="article-date">
  <time datetime="2019-06-14T02:10:16.000Z" itemprop="datePublished">2019-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/14/layui中函数使用方法/">layui中函数使用方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="总结一下layui的函数使用方法"><a href="#总结一下layui的函数使用方法" class="headerlink" title="总结一下layui的函数使用方法"></a>总结一下layui的函数使用方法</h4><ol>
<li><p>针对声明函数如 <code>onclick=myClick()</code>，可在layui.use([], function(){})中写但是必须是window.myClick = function () {}，这能声明成功，但是有时候我们常常使用jq中的 <code>$(this)</code>，这时候this指向不是我们想要的当前元素，而是window。贤心在一篇帖子中回答使用此方法。</p>
</li>
<li><p>还有一种就是使用jq绑定事件写在layui.use([], function(){})中，视情况而定。当然你也可以放到layui.use([], function(){})外面，但是你记得要引入jQuery，否则会报错： Uncaught ReferenceError: $ is not defined。个人感觉就直接写在layui.use之间就可以。</p>
</li>
<li><p>有关table监听有一下几种用法</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这下面的 fiterTabname 是指table标签中lay-filter="fiterTabname"</span></span><br><span class="line">table.on(<span class="string">'edit(fiterTabname)'</span>; <span class="comment">// table中的input输入</span></span><br><span class="line">table.on(<span class="string">'checkbox(fiterTabname)'</span>; <span class="comment">// 点击checkbox</span></span><br><span class="line">table.on(<span class="string">'radio(fiterTabname)'</span>; <span class="comment">// 点击radio</span></span><br><span class="line">table.on(<span class="string">'tool(fiterTabname)'</span>; <span class="comment">// 这是操作按钮（一般在table中最后一列，通过templet的标识，如：templet: '#barDemo'。针对barDemo是script渲染标签的id，详见下例：）</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/html"</span> <span class="attr">id</span>=<span class="string">"barDemo"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"layui-btn layui-btn-primary layui-btn-xs"</span> lay-event=<span class="string">"read"</span>&gt;读卡&lt;<span class="regexp">/a&gt;</span></span></span><br><span class="line"><span class="javascript">    &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"layui-btn layui-btn-danger layui-btn-xs"</span> lay-event=<span class="string">"del"</span>&gt;删除&lt;<span class="regexp">/a&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 还要注意table标签中的id="table1"一般是渲染table时候使用，用法如下：</span></span><br><span class="line">table.render(&#123;</span><br><span class="line">    elem: <span class="string">"#table1"</span>,</span><br><span class="line">    data: [],</span><br><span class="line">    cols: []</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><p>有关form监听有一下几种用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">form.on(<span class="string">'edit(fiterFormname)'</span>; <span class="comment">// table中的input输入</span></span><br><span class="line">form.on(<span class="string">'tool(fiterFormname)'</span>; <span class="comment">// 这是操作按钮</span></span><br><span class="line"></span><br><span class="line">form.on(<span class="string">'checkbox(fiterFormname)'</span>; <span class="comment">// 点击checkbox</span></span><br><span class="line">form.on(<span class="string">'radio(fiterFormname)'</span>; <span class="comment">// 点击checkbox</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 说明一下，针对上面form监听的几种用法，笔记写的比较早，现在19/09/18发现，有不合理的地方？ ` form.on('tool(***)') `， ` form.on('edit(***)') ` 怎么没发现使用场景？ 在一个页面中form监听常用方法： </span></span><br><span class="line"></span><br><span class="line">form.on(<span class="string">'checkbox(fiterCheckboxName)'</span>);</span><br><span class="line">form.on(<span class="string">'radio(fiterRadioName)'</span>);</span><br><span class="line">form.on(<span class="string">'select(fiterSelectName)'</span>);</span><br><span class="line">form.on(<span class="string">'submit(fiterSubmitName)'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 细想checkbox使用form监听的场景也很少，本身他就是多选框，就是记录一个状态！场景：选择多标签时候，选择标签数量超过设定数量，禁止点击。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// radio点击之后，切换大状态，改变页面中对应展示！</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在pms添加消费时候，餐费日期选择，使用jq插入节点，要再次渲染form.render('checkbox');</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>layui中的css的默认样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">optgroup</span>, <span class="selector-tag">option</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: inherit;</span><br><span class="line">    <span class="attribute">font-size</span>: inherit;</span><br><span class="line">    <span class="attribute">font-style</span>: inherit;</span><br><span class="line">    <span class="attribute">font-weight</span>: inherit;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layui-form</span> <span class="selector-tag">input</span><span class="selector-attr">[type=checkbox]</span>, <span class="selector-class">.layui-form</span> <span class="selector-tag">input</span><span class="selector-attr">[type=radio]</span>, <span class="selector-class">.layui-form</span> <span class="selector-tag">select</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layui-inline</span>, <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layui-btn</span>, <span class="selector-class">.layui-input</span>, <span class="selector-class">.layui-select</span>, <span class="selector-class">.layui-textarea</span>, <span class="selector-class">.layui-upload-button</span> &#123;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layui-btn</span>, <span class="selector-class">.layui-disabled</span>, <span class="selector-class">.layui-icon</span>, <span class="selector-class">.layui-unselect</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layui-btn</span>, <span class="selector-class">.layui-edge</span>, <span class="selector-class">.layui-inline</span>, <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>针对 <code>layui-form-item</code>，layui中对其写了一个伪类<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layui-form-item</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">'\20'</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    *zoom: 1;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">block</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>layui-form-label</code>为啥是38px，因为其内部样式写了行高是20px，其padding添加了9px 15px。具体代码如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layui-form-label</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">9px</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在room_pre\的addOccTeamInfo.php 中客户保留了pad-bottom0 pad-top0 lh30，开始估计是不统一，才临时加的css，后来就直接copy 全部嫁接了。</p>
<hr>
<p>在 pms 中的弹框大多是由 <code>iframe</code> 形式，在一些弹框中的最后提交的按钮的那一栏 <code>layui-form-item</code> 好像不知道谁加入一个 layui-main 样式类，是这个class 有宽度 width: 1140px; margin: 0 auto; 导致弹框出现横向滚动条！如下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-form-item layui-main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-input-block"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"layui-btn"</span> <span class="attr">lay-submit</span> <span class="attr">lay-filter</span>=<span class="string">"PostSubmit"</span>&gt;</span>立即提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"layui-btn layui-btn-primary"</span> <span class="attr">onclick</span>=<span class="string">"closeUpWin()"</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"do"</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">value</span>=<span class="string">"dosubmit"</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">value</span>=<span class="string">"&#123;$StoreInfo.id&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li>layui模块使用的demo</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// layui的模块备份</span></span><br><span class="line">layui.use([<span class="string">'element'</span>,<span class="string">'table'</span>,<span class="string">'laydate'</span>,<span class="string">'form'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> element = layui.element;</span><br><span class="line">    <span class="keyword">var</span> laydate = layui.laydate;</span><br><span class="line">    <span class="keyword">var</span> layedit = layui.layedit;</span><br><span class="line">    <span class="keyword">var</span> laypage = layui.laypage;</span><br><span class="line">    <span class="keyword">var</span> table = layui.table;</span><br><span class="line">    <span class="keyword">var</span> form = layui.form;</span><br><span class="line">    <span class="keyword">var</span> $ = layui.$;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在这里补充一下：之前一直理解的是layer，不用引入该模块也可使用，但自己测试 <code>layui.use([], function(){ layer.msg(123) })</code> 会提示 layer is not defined，所以可以推理layer是钳在其他模块中，也可理解为use要有模块名字，layer可不写确能使用。偶然间测出了，use table可以不写form，但是只是引入form，不能使用table。猜想是table模块中包含了form逻辑，具体细究。</p>
<ol start="7">
<li>layui的弹框有3个大项：</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-layer-move"</span> <span class="attr">style</span>=<span class="string">"cursor: move; display: none;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-layer-shade"</span> <span class="attr">id</span>=<span class="string">"layui-layer-shade4"</span> <span class="attr">times</span>=<span class="string">"4"</span> <span class="attr">style</span>=<span class="string">"z-index: 19891017; background-color: rgb(0, 0, 0); opacity: 0.5;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-layer layui-layer-iframe"</span> <span class="attr">id</span>=<span class="string">"layui-layer4"</span> <span class="attr">type</span>=<span class="string">"iframe"</span> <span class="attr">times</span>=<span class="string">"4"</span> <span class="attr">showtime</span>=<span class="string">"0"</span> <span class="attr">contype</span>=<span class="string">"string"</span> <span class="attr">style</span>=<span class="string">"z-index: 19891018; width: 90%; height: 90%; top: 17px; left: 58.5px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="8">
<li>layui中的html使用demo</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-row"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-col-md3"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div class="grid-demo"&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-form-item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-inline"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"layui-form-label"</span>&gt;</span>姓名：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"layui-input-block select_after"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"nam"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user_name"</span> <span class="attr">class</span>=<span class="string">"layui-input"</span> <span class="attr">value</span>=<span class="string">"value值"</span> <span class="attr">lay-verify</span>=<span class="string">"nullStr"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;div class=&quot;grid-demo&quot;&gt;&lt;/div&gt;</code>这个是官网给的例子，在css中这个class无体现！</p>
<ol start="9">
<li>layui中的icon的记录</li>
</ol>
<p>icon:<br>    1绿色对号<br>    2红色X号<br>    3黄色问好<br>    4暗灰色加锁<br>    5生气小红脸<br>    6开心小绿脸<br>    7黄色感叹号</p>
<p>layer.msg(‘暂无当前日期前7天数据’, {icon: 2});</p>
<ol start="10">
<li>layer提供了5种层类型。可传入的值有：0（信息框，默认）1（页面层）2（iframe层）3（加载层）4（tips层）。 若你采用layer.open({type: 1})方式调用，则type为必填项（信息框除外）</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/14/layui中函数使用方法/" data-id="ck7beshx3001ihcvhfi91jarf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/layui相关/">layui相关</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Math函数" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/11/Math函数/" class="article-date">
  <time datetime="2019-06-11T09:25:00.000Z" itemprop="datePublished">2019-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/11/Math函数/">Math函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="总结一下Math相关函数"><a href="#总结一下Math相关函数" class="headerlink" title="总结一下Math相关函数"></a>总结一下Math相关函数</h3><ol>
<li>我们在写涉及到钱业务逻辑前端页面时，会有保留2位小数的场景，后台一般返回钱数相关字段的值是字符串，如：<code>3.00</code>，但是有时候页面需要计算钱数，如 3.00 + 5.00 = &gt; 8，这时候8转为8.00比较符合场景，这时候可能会使用到toFixed(2)。</li>
</ol>
<p>toFixed用法 ： </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NumberObject.toFixed(num);</span><br></pre></td></tr></table></figure>
<p>上面意思是针对Number型，才能使用 <code>toFixed()</code>, 切记这个也是满足四舍五入的数学规则。</p>
<ol start="2">
<li>Math.ceil(num))，是只是向上取整数，但是若是3.00之类的数还是3 如下： <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">3.12</span>))   <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">Math</span>.ceil(<span class="number">3.00</span>))   <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>同理Math.floor()也是如此。</p>
<ol start="3">
<li>toString() 也是针对Number。但是它好像是有2进制的作用</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/11/Math函数/" data-id="ck7beshuo000hhcvhf4p6kyjb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-h5中img标签的边框问题" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/10/h5中img标签的边框问题/" class="article-date">
  <time datetime="2019-06-10T05:22:11.000Z" itemprop="datePublished">2019-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/10/h5中img标签的边框问题/">h5中img标签的边框问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="总结一下h5中img标签的边框问题"><a href="#总结一下h5中img标签的边框问题" class="headerlink" title="总结一下h5中img标签的边框问题"></a>总结一下h5中img标签的边框问题</h3><p>我们常在一些重置css如：reset.css、normaize.css 看到：<code>border-style: none; border: 0;</code>。在网页中搜到img标签的边框问题。自己总结如下：</p>
<ol>
<li>网上说img有边框问题，我在chrome（版本 74.0.3729.169（正式版本） （64 位））中测试无发现此bug。</li>
<li>网上说解决边框问题方法：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-attr">[src=""]</span>,</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:not(</span><span class="selector-attr">[src]</span>)&#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>确实可以解决部门场景的img边框，但这是有条件的。上面css代码指：该img标签无src属性或src属性值为空。试想一下写前端代码的小伙伴谁会忘记写src属性？若忘记写src属性，则图片渲染不出来，Ta也会发现该bug！若开发小伙伴就是如下写法：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.imgWrap</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;</span><br><span class="line">	<span class="attribute">background</span>: antiquewhite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.imgSrc</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">64px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"imgWrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"imgSrc"</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>渲染效果：<br><img src="http://139.199.23.2/img/blog/20190610/img_src1.jpg" alt="opacity=0效果"></p>
<p>确实img图片无渲染，无边框。opacity:0;把img占位区的透明度给置为0，所以不展示边框。</p>
<hr>
<ol start="3">
<li>正常情况，对img写了src属性，可是图片没有加载过来，2中的解决方法依然是有边框。代码如下：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.imgWrap</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;</span><br><span class="line">	<span class="attribute">background</span>: antiquewhite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.imgSrc</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">64px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"imgWrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"imgSrc"</span> <span class="attr">src</span>=<span class="string">"favicon.ic"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>网上说的方法大多不行，自己思考你给图片写了宽高，但图片没有加载出来， 浏览器就按照你写的宽高给img添加默认的边框。<br><img src="http://139.199.23.2/img/blog/20190610/img_src2.jpg" alt="无加载出图片依旧有边框"></p>
<p>默认的没有加载出的图片大小是16x16：<br><img src="http://139.199.23.2/img/blog/20190610/img_src3.jpg" alt="无加载出默认图片大小"></p>
<p>但是一般情况大家都会对图片写宽高啊! 最后得出：只对图片写宽（刚好图片有一个机制是宽度确认高自己是适配），加载不出来，也有一个默认16x16的图片提示，本来浏览器就是这样提示用户的，设计、产品、老板就只顾着说，哈哈。 最后得出网上所谓的方法也是鸡肋办法，不实用。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/10/h5中img标签的边框问题/" data-id="ck7beshva000shcvh9ynke1hy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-CSS的normalize-css的文档说明" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/CSS的normalize-css的文档说明/" class="article-date">
  <time datetime="2019-05-09T07:32:46.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/CSS的normalize-css的文档说明/">CSS的normalize.css的文档说明</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/CSS的normalize-css的文档说明/" data-id="ck7beshtt0004hcvhwofmxq2p" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS相关/">CSS相关</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js数组排序去重等" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/15/js数组排序去重等/" class="article-date">
  <time datetime="2019-04-15T02:32:19.000Z" itemprop="datePublished">2019-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/15/js数组排序去重等/">js数组排序去重等</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>针对js数组排序，有几种方法，现总结一下，以免自己忘记。</p>
<h4 id="1-js数组的排序之sort-方法"><a href="#1-js数组的排序之sort-方法" class="headerlink" title="1. js数组的排序之sort()方法"></a>1. js数组的排序之sort()方法</h4><ul>
<li>数组有一个sort()方法，可用之简单排序，如下代码：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmpArr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">2</span>];</span><br><span class="line">functon sortMethod(a, b) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="number">0</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( tmpArr.sort(sortMethod) );</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>可满足从小到大排序。</p>
<ul>
<li>若需要是从大到小排序，则可以改造为：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmpArr = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">2</span>];</span><br><span class="line">functon sortMethod(a, b) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; b) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="number">0</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( tmpArr.sort(sortMethod) );</span><br></pre></td></tr></table></figure>
<h4 id="2-冒泡排序"><a href="#2-冒泡排序" class="headerlink" title="2. 冒泡排序"></a>2. 冒泡排序</h4><ul>
<li>冒泡的含义，来源于生活，是一个形象的比喻，就像是锅中烧水，小泡在下面，大炮在上面，小泡慢慢从下面升起来跑到上面。 所谓的冒泡排序就是从最开始的第一个数arr[0]，与他临近的arr[1]比较，若arr[0] &gt; arr[1]，对调位置（类似于冒泡）。这时候新的arr[1]继续与arr[2]比较，若满足条件对调位置，知道把数据循环一遍。循环一遍结束后，这只是把arr[0]与其他元素做了比较，这时候要对新的arr[1]与他之后的元素依次比较，所以这会有双重循环。 看代码：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tmpArr = [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">-1</span>];</span><br><span class="line">functon bubbleSort(arr) &#123;</span><br><span class="line">    <span class="comment">// 第一次循环，针对每一个元素分别走一遍，让他开始冒泡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++ ) &#123;</span><br><span class="line">        <span class="comment">// 第二次循环，每一个元素分别比较之后，继续与他右边元素比较，一直到循环到头</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.length - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">var</span> tmp = arr[j];</span><br><span class="line">                arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">                arr[j+<span class="number">1</span>] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( bubbleSort(tmpArr) );</span><br></pre></td></tr></table></figure>
<p>解释一下这里的代码含义，为什么是 arr.length - 1 ，arr.length - 1 - i主要是内层的循环，为了代码不进行多余的循环，还有一个重要的原因，上面的代码中有arr[j+1]，要是不限制，有可能数组越界。 第二次循环若是 &lt; 4,则j 有可能等于3，则arr[j+1] 既是arr[4]，所以这是不合理的。</p>
<h4 id="3-数组去重"><a href="#3-数组去重" class="headerlink" title="3. 数组去重"></a>3. 数组去重</h4><ul>
<li>数组去重，一般是想到使用indexOf(‘el’)找到其索引，在直接对数组使用 arr.splice(index, ‘el’)即可！我在集团端crs中direct_hotel\room_status.php中使用到数组去重逻辑，具体如下：很多房型是form中的input type=”checkbox”，每次选中或者取消checkbox要实时获取数组中有效房型。具体代码：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> roomTypeArr = [];</span><br><span class="line">form.on(<span class="string">'checkbox(filterRoomType)'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data.value);</span><br><span class="line">    <span class="keyword">if</span> (data.elem.checked) &#123;</span><br><span class="line">        <span class="keyword">if</span> (roomTypeArr.indexOf(data.value) == <span class="number">-1</span>) &#123;</span><br><span class="line">            roomTypeArr.push(data.value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> ind = roomTypeArr.indexOf(data.value);</span><br><span class="line">        <span class="keyword">if</span> (ind != <span class="number">-1</span>) &#123;</span><br><span class="line">            roomTypeArr.splice(ind, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(roomTypeArr);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>原生jq点击事件，针对checkbox模拟上面的场景<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hobbyWrap"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby[]"</span> <span class="attr">value</span>=<span class="string">"看书"</span> <span class="attr">id</span>=<span class="string">"checkbox1"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span></span></span><br><span class="line"><span class="tag">            <span class="attr">for</span>=<span class="string">"checkbox1"</span>&gt;</span>看书<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby[]"</span> <span class="attr">value</span>=<span class="string">"写字"</span> <span class="attr">id</span>=<span class="string">"checkbox2"</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"checkbox2"</span>&gt;</span>写字<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby[]"</span> <span class="attr">value</span>=<span class="string">"学习"</span> <span class="attr">id</span>=<span class="string">"checkbox3"</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"checkbox3"</span>&gt;</span>学习<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hobbyArr = [];</span><br><span class="line">$(<span class="string">'.hobbyWrap'</span>).on(<span class="string">'click'</span>, <span class="string">':checkbox'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> v = $(<span class="keyword">this</span>).val();</span><br><span class="line">    <span class="built_in">console</span>.log(v, $(<span class="keyword">this</span>).prop(<span class="string">"checked"</span>));</span><br><span class="line">    <span class="keyword">if</span> ($(<span class="keyword">this</span>).prop(<span class="string">"checked"</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (hobbyArr.indexOf(v) == <span class="number">-1</span>) &#123;</span><br><span class="line">            hobbyArr.push(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> ind = hobbyArr.indexOf(v);</span><br><span class="line">        <span class="keyword">if</span> (ind != <span class="number">-1</span>) &#123;</span><br><span class="line">            hobbyArr.splice(ind, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(hobbyArr, hobbyArr.join(<span class="string">','</span>));</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在网页上也看到过对Array的原型链上绑定一个方法，直接可以使用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.remove = <span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="keyword">this</span>.indexOf(v);</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">-1</span>) <span class="keyword">this</span>.splice(i, v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr.remove(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/15/js数组排序去重等/" data-id="ck7beshwc0011hcvhhmczt4nw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js中的prototype总结" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/12/js中的prototype总结/" class="article-date">
  <time datetime="2019-04-12T05:56:28.000Z" itemprop="datePublished">2019-04-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/12/js中的prototype总结/">js中的prototype总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>序： 在看js的几种继承方式相关文档时候，看到原型(prototype)继承，之前也看到有关的prototype的相关知识，看了就忘了，现自己总结一下。</p>
<ol>
<li>我们大家在平时写代码时候，一般都是：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>但是在看到一些封装的函数一般是：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>后来自己的理解：封装的一些函数，一般是采用的大写命名，醒目、清晰、大家约定俗称（这里针对js，jq的传统js写法）。自己写的函数一般小写命名，固函数大小写命名区别不大。 </p>
<p>下面说一下prototype，看代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'Byron'</span>);</span><br></pre></td></tr></table></figure>
<p>我们把p1称为Person的一个实例，new Person(‘Byron’)，可理解为构造函数。 针对Person函数，我们在函数体中写了<br><code>this.name = name;</code>,<code>this.foo = function () {};</code>, 这意思就是给Person声明了2个属性 <code>name</code>、<code>foo</code>（这是我们通过代码增加的属性）；只要Person函数已经声明了，它就有一个属性prototype（是一个对象-包含1个默认的属性<code>constructor</code>）,这个 <code>constructor</code>又指向了Person函数本身！</p>
<p>再来说p1，p1详见上面的代码，p1它具有了2个挂载属性：<code>name: &#39;Byron&#39;</code>， <code>foo: function(){}</code> 和一个默认的 <code>__proto__</code>，这个<code>__proto__</code> 指向的是Person的<code>prototype</code>。而Person的<code>prototype</code>又指向自己的<code>constructor</code>。 看起来有点绕，每次脑子就乱乱的，那么就看下面图：</p>
<p><img src="https://images2015.cnblogs.com/blog/960109/201607/960109-20160712231541998-1991573736.png" alt="prototype解释图"></p>
<p>我想只要大家没事就看看上面的图，不断温习就有印象了。</p>
<hr>
<p>针对上面p1它其中一个属性name，其属性值是传的实参’Byron’，他的foo属性是一个函数，这就是继承了父的属性。<br>若：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'Frank'</span>);</span><br></pre></td></tr></table></figure></p>
<p>p2同样拥有了name、foo属性。我们可以对p2拥有的属性进行改动<code>p2.f00 = [];</code>, 请看下面的代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p2.f00);  <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.f00);  <span class="comment">// function()&#123;&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>上面的代码打印结果显示， 虽然是p1和p2都是Person的实例，但是他们好像是把Person的属性深copy一份，彼此相互独立！</p>
<p>针对p1,p2这种构造的Person(),他们都有一个<strong>proto</strong> 属性，好像这种情况，这2个变量才有<strong>proto</strong> 属性</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/12/js中的prototype总结/" data-id="ck7beshw6000yhcvh9htuqf43" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js function的相关总结" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/11/js function的相关总结/" class="article-date">
  <time datetime="2019-04-11T08:40:05.000Z" itemprop="datePublished">2019-04-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/11/js function的相关总结/">js函数的一些记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>function的定义方法，及function对象的理解,首先说一下 function的的定义：</p>
<p>一：实际上就和我们最为平常的方法是一样的。<br><code>function fname(test){ alert(&quot;&quot;+test); }</code></p>
<p>二：通过Function的函数的构造器进行函数对象的定义。</p>
<p><code>var fname = new Function(&quot;test&quot;, &quot;alert(&#39;&#39;+test);&quot;);</code><br>第一个参数表示的要传入函数的参数，第二个参数表示的是当前函数要执行的过程（语句）。两个参数实际上都是string类型的。但是可以看出当前的内容是十分的繁杂。</p>
<p>三：通过变量只带一块function关键字定义的方法来进行定义。</p>
<p><code>var fname = function(test){alert(&quot;&quot;+test);}</code></p>
<p>上面的三种方法虽然最后都是声明定义了一个函数，但是也是有区别的。第一种方法实际上是为函数命名为fname，而二三种方法使用起来实际上是把一个匿名函数赋值给一个变量。使用第二种方法来定义函数的时候，实际上就是<strong>调用构造函数并在每次解析的时候都会重新读取并创建一新的函数对象</strong>，由此可见当在循环体中调用这样的函数的时候会是十分的低效的，还有一点就是，当我们使用其创建一个函数对象的时候，其并不遵循典型的作用域，而是一直作为顶级函数来执行的。意思就是，当在函数内部调用它的时候，其实他并不会用函数内部定义的变量。而是只能使用全局变量。</p>
<p>第一三种方法实际上定义了一种函数字面量也可以称之为是一种函数表达式。当我们不为函数直接量定义名称的时候。函数就叫做匿名函数。那么我们如何调用一个匿名直接量，如下:</p>
<ol>
<li><p>执行后得到返回值的函数调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一，调用函数，得到返回值。强制运算符使函数调用执行</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">　　alert(x+y);</span><br><span class="line">　　<span class="keyword">return</span> x+y;</span><br><span class="line">&#125;(<span class="number">3</span>,<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二，调用函数，得到返回值。强制函数直接量执行再返回一个引用，引用在去调用执行</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">　　alert(x+y);</span><br><span class="line">　　<span class="keyword">return</span> x+y;</span><br><span class="line">&#125;)(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 还有一种很奇葩的方式三</span></span><br><span class="line">~<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line"><span class="comment">// to do sth </span></span><br><span class="line">&#125;(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// 这样写实际上也是可以执行的~可以把函数表达式进行运算符操作并使用后面的小括号中传入的参数。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>执行后忽略返回值</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式四，调用函数，忽略返回值</span></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    x = x<span class="number">-1</span>;</span><br><span class="line">    alert(x);</span><br><span class="line">&#125;(<span class="number">9</span>);<span class="comment">//这里实际上就是使用了void运算符，其用于计算之后的表达式并且不返回任何值。</span></span><br></pre></td></tr></table></figure>
<p>这个例子不理解，该写法有什么含义呢？既然封装为函数，一般就是调用它，该函数表示不返回任何值，感觉失去了函数的意义！</p>
<p>实际上在使用第一和第三种方法来说，在第一次解析的时候会通过new Function来定义一个函数的对象，并把这一对象作为内部对象来进行存储和运行。由此可知在js中每写一个函数，实际上就是在其中存储一个相关的函数对象，并在我们需要调用的时候对其进行调用。</p>
<hr>
<p>接下来我们来具体的了解一下Function对象的定义和内容</p>
<ol>
<li>首先是我们最为常用的内容arguments对象。他的定义是，一个类似于数组的对象，对应的是传递给函数对象的属性。arguments对象是一个所有的函数内部都可以用的函数内部变量。当我们调用函数的时候，他会存储我们传输进来的参数的数据。如下：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span>[<span class="number">0</span>])&#123;</span><br><span class="line">        alert(<span class="string">"arguments:"</span>,+<span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;     </span><br><span class="line">&#125;</span><br><span class="line">test(<span class="string">"a"</span>);</span><br><span class="line"><span class="comment">// 当前页面中会显示出一个弹出框并显示arguments:a</span></span><br></pre></td></tr></table></figure>
<p>该arguments是一个类数组，针对上面代码打印arguments: [a, callee: ƒ, Symbol(Symbol.iterator): ƒ]，但是arguments.length 为1<br>当然在arguments对象中也是有一些其自己的属性的，如下：</p>
<ul>
<li><p>callee，属性存储的是当前的调用的函数对象。当我们使用匿名函数的时候，如果需要调用存储当前的arguments对象的方法对象，此时可以使用当前属性。但是在ECM5中是阻止使用这一属性的。这样做的原因是，函数命名来调用函数的实现是优于这种方式的。</p>
</li>
<li><p>caller，这一属性只有当函数正在执行的情况之下才会被定义。当然其返回的内容是当前的和toString方法是一样的，为function的反编译文本。但是实际上在使用的时候返回便以文本之后，js有解析成为函数对象之后执行，所以说，这一属性实际上还是返回函数本身。但是这一属性在ECM5中已经被删除了。</p>
</li>
<li><p>length属性，是初始化的时候读取当前函数中的参数后获取的值。所以函数的length属性的值其实就和arguments.length的值的大小是一样的。</p>
</li>
<li><p>prototype属性，表示的是当前的function对象的原型对象。也可以了几位当前的函数对象继承了原型对象的属性和方法。具体参见js原型链学习。</p>
</li>
</ul>
<p>当然对于函数对象js中也是有定义一些基本方法的</p>
<ul>
<li>apply方法相信你不会陌生，制定方法替换当前的this指针，冰用穿入的对象中的数据替换当前函数的参数值。上例子：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">""</span> + <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testTwo</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"this:"</span>+<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a:"</span>+a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testTwo.apply(test, [<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出的效果是this:function test()&#123; alert("" + this);&#125; 与 a:1</span></span><br></pre></td></tr></table></figure>
<p>实际上apply是用第一个参数中的对象替换当前的函数中的this指针，并用数组参数中的数据来来替换但钱的函数调用时的参数。</p>
<ul>
<li>bind方法，其效果是不论当前的函数怎么调用，他的this指针代表的值都是一样的。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> displayArgs = <span class="function"><span class="keyword">function</span> (<span class="params">val1, val2, val3, val4</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(val1 + <span class="string">" "</span> + val2 + <span class="string">" "</span> + val3 + <span class="string">" "</span> + val4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emptyObject = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> displayArgs2 = displayArgs.bind(emptyObject, <span class="number">12</span>, <span class="string">"a"</span>);</span><br><span class="line">displayArgs2(<span class="string">"b"</span>, <span class="string">"c"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output: 12 a b c</span></span><br></pre></td></tr></table></figure>
<p>由上面可见实际上bind函数就有点像是绑定当前的内容和一个数据的关系。并返回一个可调用对象。</p>
<ul>
<li>call方法使用效果实际上和apply方法是一样的，只是其后面传递的第二个参数不在是严格要求是数组。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/11/js function的相关总结/" data-id="ck7beshw8000zhcvhcc7z9frw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js构造函数及原型链继承" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/11/js构造函数及原型链继承/" class="article-date">
  <time datetime="2019-04-11T06:41:48.000Z" itemprop="datePublished">2019-04-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/11/js构造函数及原型链继承/">js的几种继承</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>js的构造函数继承</li>
</ol>
<ul>
<li>我所理解的就是在原有函数声明之后，new了一次。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el = <span class="keyword">new</span> Foo();</span><br></pre></td></tr></table></figure>
<p>这个时候el 就继承了Foo函数的prototype。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/11/js构造函数及原型链继承/" data-id="ck7beshwh0013hcvhbls3aug0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-eval总结" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/15/eval总结/" class="article-date">
  <time datetime="2019-03-15T02:07:55.000Z" itemprop="datePublished">2019-03-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/15/eval总结/">eval总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="eval的一些总结"><a href="#eval的一些总结" class="headerlink" title="eval的一些总结"></a>eval的一些总结</h4><h5 id="eval的用法"><a href="#eval的用法" class="headerlink" title="eval的用法"></a>eval的用法</h5><ol>
<li><p>在很多的js代码中，可以看到有eval的身影，在菜鸟教程中：“eval() 函数计算 JavaScript 字符串，并把它作为脚本代码来执行。”这个言外之意是处理字符串。可是下面还有一句话：“如果参数是一个表达式，eval() 函数将执行表达式。如果参数是Javascript语句，eval()将执行 Javascript 语句。” 总结一下就是eval()无论你是处理什么，他就会执行，大不了执行不了的就报错！</p>
</li>
<li><p>在w3school中写 ：eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码。eval(string)，既然都是这样定义的，那为什呢会让他执行什么语句啥的呢？ 我个人猜想一定是后来把js引擎中的eval()处理方法更改了，赋予它更多的功能。</p>
</li>
<li><p>eval的巧用</p>
<ul>
<li><p>如果data是字符串，使用eval(“(“+data+”)”)可以将其转换为json对象，和JSON.parse的功能一样。<br>如果data是json对象，使用eval(“(“+data+”)”)会报错，正如你描述的错误。eval一个json对象，没有什么作用，这个时候不需要使用eval方法，直接用data即可。</p>
</li>
<li><p>所以，如果你那边能确定后台返回的是字符串，就使用eval(“(“+data+”)”)(eval会带来很多问题，不建议使用，如果想实现转化用JSON.parse更好)，如果后台返回的是json对象，什么操作都不需要，直接使用data即可。如果你是用的jquery, 将type（一般为这个配置属性）设为json，或者利用$.getJSON()方法获得服务器返回，那么就不需要eval()方法了，因为这时候得到的结果已经是json对象了，只需直接调用该对象即可</p>
</li>
<li><p>另外多说一点：为什么eval要添加括号呢？原因：eval本身的问题。 由于json是以{}的方式来开始以及结束的，在JS中，它会被当成一个语句块来处理，所以必须强制性的将它转换成一种表达式。加上圆括号的目的是迫使eval函数在处理JavaScript代码的时候强制将括号内的表达式(expression)转化为对象，而不是作为语句(statement)来执行。举一个例子，例如对象字面量{}，如若不加外层的括号，那么eval会将大括号识别为JavaScript代码块的开始和结束标记，那么{}将会被认为是执行了一句空语句。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">"&#123;&#125;"</span>); <span class="comment">// undefined </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">"(&#123;&#125;)"</span>);<span class="comment">// object[Object]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>这使我想到为什么有时候后台返回的数据是一个字符串，我使用<code>JSON.parse()</code>处理（目的转为json对象使用）之后会出现：<code>Uncaught SyntaxError: Unexpected token r</code>，这里报错的根本原因是你后台返回的数据不是标准格式，以至于<code>JSON.parse()</code>解析不了。上面无序列表第二条是说用jq的json方法，我认为这是jq里面帮你处理数据了。所以大家只要是各个工种都按照严格的规范来，怎么不出现这个问题呢？</p>
</li>
</ul>
</li>
<li><p>我来做最后的总结：记住，eval()解析字符串参数时,会把参数以执行语句的方式返回，请看下面例子。</p>
</li>
</ol>
<p>例子1：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'2'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(str));  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>上面会输出2，但是这样做没有什么意义。2和’2’都被eval作为参数以执行语句的方式返回。</p>
<p>例子2：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'a:3'</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'a=3'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(str));  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>上面会输出3，我认为这和例子1差不多，’a:3’和’a=3’也都被eval作为参数以执行语句的方式返回。</p>
<p>例子2：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'a:3'</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'a=3'</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'&#123;a:3&#125;'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(str));  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>上面会输出3，我认为这和例子1差不多，’a:3’、’a=3’、’{a:3}’也都被eval作为参数以执行语句的方式返回。但是这是简单的字符串，请看下面的例子。</p>
<p>例子3：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'&#123;a:3,b:4&#125;'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(str));  <span class="comment">// Uncaught SyntaxError: Unexpected token :</span></span><br></pre></td></tr></table></figure>
<p>为什么报错了，我理解的是eval处理不了，本身这是<code>&#39;{ , }&#39;</code>这是对象，比较复杂，在eval解析的时候，解释器遇到{},它会认为这个是一个代码块，会执行它，处理不了报错，有人说例子2中为什么可以，我认为例子2中固然有’{a:3}’例子，但是该对象只有一对键值对。比较简单。复杂的<code>&#39;{ , }&#39;</code>，解释器把它当成代码块处理就会出错，我们为此用一个()包裹起来，把代码块转为表达式，这样解释器就把<code>&#39;{ , }&#39;</code>作为一个对象正常解析。</p>
<p>例子4：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'&#123;&#125;'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(str));  <span class="comment">// undefined 由于他也是简单的对象，所以js输出了undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">'('</span>+str+<span class="string">')'</span>));  <span class="comment">// &#123;&#125; ,把代码块加上()，当做表达式来处理，固输出&#123;&#125;</span></span><br></pre></td></tr></table></figure>
<p>例子5：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">"x=10;y=20;console.log(x*y)"</span>);</span><br></pre></td></tr></table></figure>
<p>这种可以执行，打印出200。</p>
<ol start="5">
<li>详细见这篇帖子<a href="https://segmentfault.com/q/1010000006965715" target="_blank" rel="noopener">关于eval（data）和eval(“(“+data+”)”)</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/15/eval总结/" data-id="ck7beshv8000rhcvhrtojo6q8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js中的逗号" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/14/js中的逗号/" class="article-date">
  <time datetime="2019-03-14T06:57:55.000Z" itemprop="datePublished">2019-03-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/14/js中的逗号/">js中的逗号</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="js中的逗号，分号的小议"><a href="#js中的逗号，分号的小议" class="headerlink" title="js中的逗号，分号的小议"></a>js中的逗号，分号的小议</h4><h5 id="使用var"><a href="#使用var" class="headerlink" title="使用var"></a>使用var</h5><ol>
<li>js中声明变量使用var，如：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b, c;  <span class="comment">// 这里a，b，c都是局部变量；</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">    b;</span><br><span class="line">    c; <span class="comment">// 这里除了a为局部变量外，b和c都为全局变量。</span></span><br></pre></td></tr></table></figure>
<p>分号就是相当于划分了代码片段，逗号可理解为语句没有说完。</p>
<h5 id="确定你的存在-变量声明"><a href="#确定你的存在-变量声明" class="headerlink" title="确定你的存在(变量声明)"></a>确定你的存在(变量声明)</h5><ol>
<li><p>我们要使用盒子装东西,是不是先要找到盒子,那在编程中，这个过程叫声明变量,找盒子的动作，如何表示：</p>
<ul>
<li>声明变量语法: var 变量名;    </li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/14/js中的逗号/" data-id="ck7beshwa0010hcvho9a0kfla" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS相关/">CSS相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Form表单相关/">Form表单相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS相关/">JS相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Table相关/">Table相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layui相关/">layui相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具使用总结/">工具使用总结</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS相关/" style="font-size: 20px;">CSS相关</a> <a href="/tags/Form表单相关/" style="font-size: 10px;">Form表单相关</a> <a href="/tags/JS相关/" style="font-size: 10px;">JS相关</a> <a href="/tags/Table相关/" style="font-size: 10px;">Table相关</a> <a href="/tags/layui相关/" style="font-size: 15px;">layui相关</a> <a href="/tags/工具使用总结/" style="font-size: 20px;">工具使用总结</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/03/03/laravel创建table字段参考表/">laravel创建table字段参考表</a>
          </li>
        
          <li>
            <a href="/2019/12/18/Form的相关记录/">Form的相关记录</a>
          </li>
        
          <li>
            <a href="/2019/12/11/CSS常用代码/">CSS常用代码</a>
          </li>
        
          <li>
            <a href="/2019/12/10/CSS字体换总结行/">CSS字体换行总结</a>
          </li>
        
          <li>
            <a href="/2019/11/26/PMS中form查询总结/">PMS中form查询总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>