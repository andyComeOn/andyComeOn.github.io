<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>我的点滴记录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="我的点滴记录">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="我的点滴记录">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Andy Zhang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="我的点滴记录" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">我的点滴记录</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-onblur_onfocusout" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/02/18/onblur_onfocusout/" class="article-date">
  <time datetime="2025-02-18T06:13:52.000Z" itemprop="datePublished">2025-02-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/02/18/onblur_onfocusout/">onblur、onfocus、onfocusout记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="html-标签中的失焦、聚焦事件">html 标签中的失焦、聚焦事件</h3>
<ul>
<li>onfocus 事件，顾名思义就是聚焦事件，一般在 input 标签元素中，用户点击了 input 输入框，使其边框高亮或一些信息。会用到 onfocus 事件。具体代码如下：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">onfocus</span>=<span class="string">&quot;onfocus()&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">onfocus</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Input focused&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注！！！上的代码我打算新建一个 html 文件，在浏览器中，看下效果，但是出现了一个匪夷所思的报错如下：</p>
<p><img src="/css/images/stack-overflow.png" alt="栈溢出报错截图"></p>
<p>百思不得其解，为啥出现“栈溢出”的报错，记得之前就是这样写的啊！后来发现是函数名为 <code>function onfocus() &#123;&#125;</code>，与 input 标签的属性名重复了。现，修改代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">onfocus</span>=<span class="string">&quot;onfocusFn()&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">onfocusFn</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Input focused&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样就不报错了。</p>
<ul>
<li>onblur 事件与 onfocus 刚好是相反，就是失去焦点事件。发现了一个 onfocusout 属性，很少用这个属性，查资料之后发现，这个 onfocusout 最初是 IE 的事件，但现代浏览器已普遍支持。onfocusout 与 onblur 啥区别，就是 onblur 不支持冒泡，而 onfocusout 支持冒泡！如下例子：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">onfocusout</span>=<span class="string">&quot;console.log(&#x27;Div captured blur!&#x27;)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">onfocus</span>=<span class="string">&quot;onfocusFn()&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">onfocusout</span>=<span class="string">&quot;console.log(&#x27;input 失焦&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">onfocusFn</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Input focused&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>也就是说，上面的代码 input 标签失焦之后，input 标签的 onfocusout 属性对应的属性值函数执行完之后，其父元素 box 标签中的 onfocusout 属性对应的属性值函数也会执行，反之，onblur 不会执行。我在浏览器中都试了，发现效果是一样的，是浏览器升级后，解决了这个问题吗？deepseek 也是说 onblur 不支持冒泡，onfocusout 支持冒泡！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/02/18/onblur_onfocusout/" data-id="cmcro5lme003uqkk44kx15hka" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web%E6%9D%82%E9%9B%86/" rel="tag">Web杂集</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js循环迭代" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/02/12/js%E5%BE%AA%E7%8E%AF%E8%BF%AD%E4%BB%A3/" class="article-date">
  <time datetime="2025-02-12T05:00:05.000Z" itemprop="datePublished">2025-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/02/12/js%E5%BE%AA%E7%8E%AF%E8%BF%AD%E4%BB%A3/">js循环迭代</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="常见的循环"><strong>常见的循环</strong></h3>
<p>一些官方文档(MDN)介绍的的常见的循环有：<code>for</code>、<code>while</code>，<code>do while</code> 等。<code>for</code> 循环是一个最常见的，其中 js 针对 for 循环衍生出了 for in、for of。for 循环的基本语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (begin; condition; step) &#123;</span><br><span class="line">  <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>很多小伙伴，使用 for 习惯了，使用 while 的相少一些，其语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  <span class="comment">// 代码</span></span><br><span class="line">  <span class="comment">// 所谓循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>只有满足了 condition 条件，while 循环体语句才会执行！举例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  i--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那 do while 用法是啥？举例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  i++;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    flag = <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (flag);</span><br></pre></td></tr></table></figure>
<p>do while 有一个不好的现象是，无论 while 中的条件是 true 或 false 其 do 里面的循环体都会执行一次！！！这一点在使用时要格外注意！</p>
<h3 id="常冒排序"><strong>常冒排序</strong></h3>
<p>这个冒泡排序，在网上一搜很多代码片段，但是说的不是很清楚，我把自己理解的记录下来。为啥叫冒泡，来源于生活中，我们在烧水壶里面烧水时，眼睛看到随着不断的加热，水壶里的小水泡，从壶底不断网上冒，小水泡在壶底时体积还很小，可是水泡在往上冒的时候，越来越大，好像是有规律的逐渐变大了，这就是生活中的冒泡，我们说的冒泡排序，其实就是类比小水泡，我们把数组中的相邻的数字进行比较，即：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array[0] 与 array[1] 比较</span></span><br><span class="line"><span class="comment">// array[1] 与 array[2] 比较</span></span><br><span class="line"><span class="comment">// array[2] 与 array[3] 比较</span></span><br><span class="line"><span class="comment">// 这些元素都是相邻的进行比较</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 例，下面的代码。我当时也不知道自己为啥这样写，下面的代码有 bug。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = arr.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = i; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="comment">// 既然是相邻的元素相比较，那就是 arr[j] 与 arr【j+1】之间的比较</span></span><br><span class="line">      <span class="comment">// 于是我写了如代码</span></span><br><span class="line">      <span class="keyword">if</span> (arr[j] &lt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">const</span> tmp = arr[j];</span><br><span class="line">        arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">        arr[j + <span class="number">1</span>] = tmp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 举例 ：arr = [3, 6, 9]</span></span><br><span class="line"><span class="comment">// arr =&gt; [6, 3, 9] 当 i=0 j=0 时</span></span><br><span class="line"><span class="comment">// arr =&gt; [6, 9, 3] 当 i=0 j=1 时</span></span><br><span class="line"><span class="comment">// arr =&gt; [6, 9, 3] ? 当 i=0 j=2 时，此处有一个数组越界的问题，j=2 那么 arr[j+1] 就是 arr[3] 哪有这个值！所以上面写的第二次循环应该有 bug，也就是 j 的范围要进一步缩小。还有一个问题就是最后数组变成了 [6, 9, 3]，也不符合我们的预期啊，我们的预期是数组变成9,6,3这样的降序的形式！那是不是第二层的for循环j的开始条件不对呢？，应该是j=0开始呢?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 改造代码如下：</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = arr.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &lt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">const</span> tmp = arr[j];</span><br><span class="line">        arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">        arr[j + <span class="number">1</span>] = tmp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">bubbleSort</span>([<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>])); <span class="comment">// [9, 6, 3] 排序结果正确</span></span><br></pre></td></tr></table></figure>
<p>有了上面的例子，我们其实可对排序函数继续完善，加入一个参数，是升序还是降序需求！如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// asc升序 desc降序</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr, type = <span class="string">&#x27;asc&#x27;</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = arr.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="comment">// 升序</span></span><br><span class="line">      <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (type === <span class="string">&#x27;asc&#x27;</span>) &#123;</span><br><span class="line">          <span class="comment">// 直接解构,代码简洁，无需定义中间变量</span></span><br><span class="line">          [arr[j], arr[j + <span class="number">1</span>]] = [arr[j + <span class="number">1</span>], arr[j]];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (type === <span class="string">&#x27;desc&#x27;</span>) &#123;</span><br><span class="line">          [arr[j], arr[j + <span class="number">1</span>]] = [arr[j + <span class="number">1</span>], arr[j]];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(bubbleSort([6, 3, 9])); // 默认升序 3,6,9</span></span><br><span class="line"><span class="comment">// console.log(bubbleSort([6, 3, 9], &#x27;desc&#x27;)); // 降序 9,6,3</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/02/12/js%E5%BE%AA%E7%8E%AF%E8%BF%AD%E4%BB%A3/" data-id="cmcro5llk0038qkk46upq9crn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS%E7%9B%B8%E5%85%B3/" rel="tag">JS相关</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js一些代码块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2025/02/10/js%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E5%9D%97/" class="article-date">
  <time datetime="2025-02-10T01:26:05.000Z" itemprop="datePublished">2025-02-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2025/02/10/js%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E5%9D%97/">js一些代码块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="延迟多少毫秒执行"><strong>延迟多少毫秒执行</strong></h3>
<p>代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">delay</span> = ms =&gt; <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms));</span><br></pre></td></tr></table></figure>
<h3 id="js-中-class-语法糖用法"><strong>js 中 class 语法糖用法</strong></h3>
<p>示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1 先定义一个类(一般类名大写)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 在类里面定义一个构造函数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">value = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> += num;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 把该类导出方便我们调用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">value = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> += num;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/02/10/js%E4%B8%80%E4%BA%9B%E4%BB%A3%E7%A0%81%E5%9D%97/" data-id="cmcro5llh0032qkk48b8qhunp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS%E7%9B%B8%E5%85%B3/" rel="tag">JS相关</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MD记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/12/07/MD%E8%AE%B0%E5%BD%95/" class="article-date">
  <time datetime="2024-12-07T03:11:42.000Z" itemprop="datePublished">2024-12-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/12/07/MD%E8%AE%B0%E5%BD%95/">MD记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="总结">总结</h3>
<p>md 记录博客很是方便，但是图片不好处理，要么是自己弄个啥工具，直接把这个图片放到静态资源服务器上，用域名访问。要么是直接在放在你的博客项目(如：hexo 博客项目)里。想着图片大，能不能转为 svg，但是 svg 的场景是针对一些小的 icon 使用方便。我用了一个图片转 svg 的 <a target="_blank" rel="noopener" href="https://www.samt.cloud/">工具</a> 效果确实很差。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/12/07/MD%E8%AE%B0%E5%BD%95/" data-id="cmcro5ll0001dqkk4004n2znv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IT-%E5%B7%A5%E5%85%B7-%E6%95%B0%E7%A0%81/" rel="tag">IT-工具-数码</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-代码片段之RegExp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/30/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BRegExp/" class="article-date">
  <time datetime="2022-03-30T08:07:03.000Z" itemprop="datePublished">2022-03-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/30/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BRegExp/">代码片段之RegExp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="日期时间格式"><strong>日期时间格式</strong></h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># js</span><br><span class="line"><span class="keyword">const</span> date = <span class="string">&#x27;2018-04-18&#x27;</span>;</span><br><span class="line"><span class="comment">// 此时我们希望把 `-` 变为 / . 等，怎么办？最快的想到用 split 切割</span></span><br><span class="line"><span class="keyword">const</span> &#123; year, month, day &#125; = date.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> newDate = <span class="string">`<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;month&#125;</span>/<span class="subst">$&#123;day&#125;</span>`</span>; <span class="comment">// 根据需求自己组合成 . / 等形式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ++++++++++++++++++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 针对 date 可能是使用 . 连接而成的字符串，则上面写法可拓展如下：</span></span><br><span class="line"><span class="keyword">const</span> date = <span class="string">&#x27;2018-04-18&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; year, month, day &#125; = date.<span class="title function_">split</span>(<span class="regexp">/\D/</span>);</span><br><span class="line"><span class="keyword">const</span> newDate = <span class="string">`<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;month&#125;</span>/<span class="subst">$&#123;day&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ++++++++++++++++++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用正则还有一种方式，不过感觉没有上面方法简单</span></span><br><span class="line"><span class="keyword">let</span> date = <span class="string">&#x27;2018/04/18&#x27;</span>;</span><br><span class="line">date = date.<span class="title function_">replace</span>(<span class="regexp">/(\d&#123;4&#125;)\/(\d&#123;4&#125;)\/(\d&#123;2&#125;)/</span>, <span class="string">&#x27;$1-$2-$3&#x27;</span>) <span class="comment">// &#x27;2018-04-18&#x27;，此方法一句长代码搞定但是使用了正则的分组！</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正则分组：就是使用 () 表达，被分组匹配到的字符串会被暂存起来。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/30/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BRegExp/" data-id="cmcro5ln30056qkk4g064bzmb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" rel="tag">代码片段</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-代码片段之ElementUI" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/01/20/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BElementUI/" class="article-date">
  <time datetime="2022-01-20T03:16:55.000Z" itemprop="datePublished">2022-01-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/01/20/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BElementUI/">代码片段之ElementUI</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="表格中针对描述长，显示-tooltip">表格中针对描述长，显示 tooltip</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;table_box&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- @selection-change=&quot;tableSelectionChange&quot;  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ref</span>=<span class="string">&quot;multipleTable&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:data</span>=<span class="string">&quot;sharingTools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">border</span></span></span><br><span class="line"><span class="tag">    <span class="attr">stripe</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">select</span>=<span class="string">&quot;currentSelect&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">select-all</span>=<span class="string">&quot;tableSelectAll&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span> <span class="attr">:selectable</span>=<span class="string">&quot;selectable&quot;</span> <span class="attr">width</span>=<span class="string">&quot;55&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;priority&quot;</span> <span class="attr">label</span>=<span class="string">&quot;优先级&quot;</span> <span class="attr">width</span>=<span class="string">&quot;90&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; scope.row.priority === 0 ? &#x27;高&#x27; : scope.row.priority === 1 ? &#x27;中&#x27; :</span><br><span class="line">        &#x27;低&#x27; &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- :show-overflow-tooltip=&quot;true&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;toolName&quot;</span> <span class="attr">label</span>=<span class="string">&quot;推荐工具&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;toolDesc&quot;</span> <span class="attr">label</span>=<span class="string">&quot;概念&quot;</span> <span class="attr">width</span>=<span class="string">&quot;170&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tooltip</span> <span class="attr">placement</span>=<span class="string">&quot;top-start&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;scope.row.toolDesc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; scope.row.toolDesc.length &gt; 20 ? scope.row.toolDesc.slice(0, 19)</span><br><span class="line">            + &#x27;...&#x27; : scope.row.toolDesc.slice(0, 19) &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-tooltip</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;superiority&quot;</span> <span class="attr">label</span>=<span class="string">&quot;优点&quot;</span> <span class="attr">width</span>=<span class="string">&quot;170&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tooltip</span> <span class="attr">placement</span>=<span class="string">&quot;top-start&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;scope.row.superiority&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; scope.row.superiority.length &gt; 20 ?</span><br><span class="line">            scope.row.superiority.slice(0, 19) + &#x27;...&#x27; :</span><br><span class="line">            scope.row.superiority.slice(0, 19) &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-tooltip</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;inferiority&quot;</span> <span class="attr">label</span>=<span class="string">&quot;缺点&quot;</span> <span class="attr">width</span>=<span class="string">&quot;170&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tooltip</span> <span class="attr">placement</span>=<span class="string">&quot;top-start&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;scope.row.inferiority&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; scope.row.inferiority.length &gt; 20 ?</span><br><span class="line">            scope.row.inferiority.slice(0, 19) + &#x27;...&#x27; :</span><br><span class="line">            scope.row.inferiority.slice(0, 19) &#125;&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-tooltip</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">click.native.prevent</span>=<span class="string">&quot;showDetail(scope.row.incentiveSchemesShareToolId)&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">size</span>=<span class="string">&quot;small&quot;</span></span></span><br><span class="line"><span class="tag">          &gt;</span>查看其他说明&lt;/el-button</span><br><span class="line">        &gt;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>currentSelect 函数可以根据内部参数，判断此次的点击 CheckBox 是取消还是添加！代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title function_">currentSelect</span>(<span class="params">selection, row</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;手动勾选数据行的 Checkbox 时 &#x27;</span>, selection, row)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// +++++++++++++++++++++++++++++++++++</span></span><br><span class="line">  <span class="comment">// JSON.stringify(selection).indexOf(row.incentiveSchemesShareToolId) 有bug不能使用！！！</span></span><br><span class="line">  <span class="comment">// +++++++++++++++++++++++++++++++++++</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> temp = [...[], ...selection]</span><br><span class="line">  <span class="keyword">const</span> fiIndex = temp.<span class="title function_">findIndex</span>(<span class="function"><span class="params">i</span> =&gt;</span> i.<span class="property">incentiveSchemesShareToolId</span> == row.<span class="property">incentiveSchemesShareToolId</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 逻辑一：selection数据存在，且row是属于selection里的一个元素，则 =&gt; 添加</span></span><br><span class="line">  <span class="keyword">if</span> (selection.<span class="property">length</span> &amp;&amp; fiIndex &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">format</span>(</span><br><span class="line">      <span class="string">&#x27;arr_add&#x27;</span>,</span><br><span class="line">      selection.<span class="title function_">map</span>(<span class="function"><span class="params">v</span> =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">isSuggest</span>: <span class="number">0</span>, <span class="comment">// 此处都是点击table中checkbox所得值，固皆为0</span></span><br><span class="line">        <span class="attr">otherReason</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">sortNum</span>: v.<span class="property">sortNum</span>,</span><br><span class="line">        <span class="attr">incentiveSchemesShareToolId</span>: v.<span class="property">incentiveSchemesShareToolId</span>,</span><br><span class="line">        <span class="attr">toolName</span>: v.<span class="property">toolName</span></span><br><span class="line">      &#125;))</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 逻辑二：selection数据存在，且row不属于selection里的一个元素，则 =&gt; 取消勾选当前row</span></span><br><span class="line">  <span class="keyword">if</span> (selection.<span class="property">length</span> &amp;&amp; fiIndex === -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">format</span>(<span class="string">&#x27;obj_del&#x27;</span>, &#123; <span class="attr">isSuggest</span>: <span class="number">0</span>, <span class="attr">incentiveSchemesShareToolId</span>: row.<span class="property">incentiveSchemesShareToolId</span>, <span class="attr">toolName</span>: row.<span class="property">toolName</span>, <span class="attr">sortNum</span>: row.<span class="property">sortNum</span>, <span class="attr">otherReason</span>: <span class="string">&#x27;&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 逻辑三：selection数据不存在，则 =&gt; 取消勾选了上一次仅有的一条数据row</span></span><br><span class="line">  <span class="keyword">if</span> (!selection.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">format</span>(<span class="string">&#x27;obj_del&#x27;</span>, &#123; <span class="attr">isSuggest</span>: <span class="number">0</span>, <span class="attr">incentiveSchemesShareToolId</span>: row.<span class="property">incentiveSchemesShareToolId</span>, <span class="attr">toolName</span>: row.<span class="property">toolName</span>, <span class="attr">sortNum</span>: row.<span class="property">sortNum</span>, <span class="attr">otherReason</span>: <span class="string">&#x27;&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 针对全选 CheckBox 回调函数 tableSelectAll 就相对来说简单一些</span></span><br><span class="line"><span class="title function_">tableSelectAll</span>(<span class="params">selection</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;手动勾选 全选  Checkbox 时 &#x27;</span>, selection)</span><br><span class="line">  <span class="comment">// 数据存在，则 =&gt; 全选</span></span><br><span class="line">  <span class="comment">// 数据为空，则 =&gt; 全取消</span></span><br><span class="line">  <span class="keyword">if</span> (selection.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">format</span>(</span><br><span class="line">      <span class="string">&#x27;arr_add&#x27;</span>,</span><br><span class="line">      selection.<span class="title function_">map</span>(<span class="function"><span class="params">v</span> =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">isSuggest</span>: <span class="number">0</span>, <span class="comment">// 此处都是点击table中checkbox所得值，固皆为0</span></span><br><span class="line">        <span class="attr">otherReason</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">sortNum</span>: v.<span class="property">sortNum</span>,</span><br><span class="line">        <span class="attr">incentiveSchemesShareToolId</span>: v.<span class="property">incentiveSchemesShareToolId</span>,</span><br><span class="line">        <span class="attr">toolName</span>: v.<span class="property">toolName</span></span><br><span class="line">      &#125;))</span><br><span class="line">    )</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">format</span>(<span class="string">&#x27;arr_del&#x27;</span>, [])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 针对CheckBox中禁止点击有配置函数如下：</span></span><br><span class="line"><span class="comment">// 禁止点击表格中isGrey=1的行</span></span><br><span class="line"><span class="title function_">selectable</span>(<span class="params">row</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (row.<span class="property">isGrey</span> != <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="针对-el-dialog-使用场景的总结">针对 el-dialog 使用场景的总结</h3>
<p>针对一般的简单的 dialog，我们可以直接卸载一个文件里面，如下 <code>Father.vue</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>button<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="针对-el-upload-中，方法-beforeUpload-使用-new-Promise-返回，场景：判断图片宽高。">针对 el-upload 中，方法 beforeUpload 使用 new Promise 返回，场景：判断图片宽高。</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参考：https://www.cnblogs.com/lzzxm/p/13267325.html</span></span><br><span class="line"><span class="title function_">beforeAvatarUpload</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="comment">// console.log(&#x27;上传前&#x27;,file)</span></span><br><span class="line">  <span class="keyword">const</span> that = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> isJPG =</span><br><span class="line">    file.<span class="property">type</span> === <span class="string">&#x27;image/jpeg&#x27;</span> ||</span><br><span class="line">    file.<span class="property">type</span> === <span class="string">&#x27;image/png&#x27;</span> ||</span><br><span class="line">    file.<span class="property">type</span> === <span class="string">&#x27;image/gif&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> isLt2M = file.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &lt; <span class="number">4</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!isJPG) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;上传图片只能是 JPG 格式!&#x27;</span>)</span><br><span class="line">      <span class="title function_">reject</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isLt2M) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;上传图片大小不能超过 2MB!&#x27;</span>)</span><br><span class="line">      <span class="title function_">reject</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注：that 指的是 vue 实例中的 data 里面的数据，第二个 this 指 img 调用的，指代 img 构造对象！</span></span><br><span class="line">    <span class="comment">// isLtWh：是否限制宽高。其实这可以传一个对象，设置参数即可，限制条件直接取自对象里面设置的参数！</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isLtWH</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="variable language_">this</span></span><br><span class="line">      <span class="keyword">const</span> url = <span class="variable language_">window</span>.<span class="property">URL</span> || <span class="variable language_">window</span>.<span class="property">webkitURL</span></span><br><span class="line">      <span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>() <span class="comment">// 手动创建一个Image对象</span></span><br><span class="line"></span><br><span class="line">      img.<span class="property">src</span> = url.<span class="title function_">createObjectURL</span>(file)<span class="comment">// 创建Image的对象的url</span></span><br><span class="line">      img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (that.<span class="property">width</span> != <span class="variable language_">this</span>.<span class="property">width</span> || that.<span class="property">height</span> != <span class="variable language_">this</span>.<span class="property">height</span>) &#123;</span><br><span class="line">          that.$notify(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;失败&#x27;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">`上传图片分辨率建议<span class="subst">$&#123;that.width&#125;</span>*<span class="subst">$&#123;that.height&#125;</span>,宽度不可超过<span class="subst">$&#123;that.width&#125;</span>px，高度不超过<span class="subst">$&#123;that.height&#125;</span>px!`</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">3000</span></span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="comment">// that.$emit(&#x27;IsImgValid&#x27;) // 不知道作者是啥场景</span></span><br><span class="line">          <span class="title function_">reject</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(file)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h3 id="针对-el-upload-官网最后一个例子：手动上传到服务器记录。">针对 el-upload 官网最后一个例子：手动上传到服务器记录。</h3>
<p>一直上传不生效，原来是设置了 <code>:auto-upload=&quot;false&quot;</code>。正常默认值是 true 。总之按照官网例子就不会犯下大错误。</p>
<!--  -->

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/20/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B9%8BElementUI/" data-id="cmcro5lmu004tqkk4awrwd79f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" rel="tag">代码片段</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-npm或yarn安装过程常见的warn及error" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/13/npm%E6%88%96yarn%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E5%B8%B8%E8%A7%81%E7%9A%84warn%E5%8F%8Aerror/" class="article-date">
  <time datetime="2021-09-13T04:54:44.000Z" itemprop="datePublished">2021-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/13/npm%E6%88%96yarn%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E5%B8%B8%E8%A7%81%E7%9A%84warn%E5%8F%8Aerror/">npm或yarn安装过程常见的warn及error</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="错误列表">错误列表</h3>
<ul>
<li>
<p>UNMET OPTIONAL DEPENDENCY  未满足的可选依赖项，截图如下：<br>
<img src="https://file.798run.top/img/blog/20210915/UNMET_OPTIONAL_DEPENDENCY.jpg" alt="UNMET OPTIONAL DEPENDENCY"></p>
</li>
<li>
<p>UNMET PEER DEPENDENCY typescript@&gt;=2.7  未满足对等依赖项</p>
</li>
<li>
<p>npm ERR! peer dep missing: typescript@*, required by ts-node-dev@1.1.1</p>
</li>
<li>
<p>npm ERR! peer dep missing: typescript@&gt;=2.7, required by ts-node@9.1.1</p>
</li>
<li>
<p>ws@7.5.5 requires a peer of bufferutil@^4.0.1 but none is installed. You must install peer dependencies yourself.</p>
</li>
<li>
<p>ws@7.5.5 requires a peer of utf-8-validate@^5.0.2 but none is installed. You must install peer dependencies yourself.</p>
</li>
<li>
<p>npm ERR! Unexpected end of JSON input while parsing near 遇到此报错，需要执行：npm cache clean --force</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15080021/2586133">从 UNMET PEER DEPENDENCY 中理解依赖版本管理</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a2a2ddeb174c">node-pre-gyp &amp;&amp; gyp ERR! &amp;&amp; build error 解决方法</a></p>
</li>
<li>
<p>还遇到安装一些库时候需要执行编译，例如在我的 gitee 下的仓库：fabric-install-error，安装在墙的作用下，一直失败。安照：“<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a2a2ddeb174c">node-pre-gyp &amp;&amp; gyp ERR! &amp;&amp; build error 解决方法</a>”方法，试了之后是不行的。错误记录在：gitee =&gt; fabric-install-error 仓库的md文件，这说明此方法不好使！知乎上搜到一个<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/345314156">帖子</a>发现也是说安装时候添加参数 <code>--unsafe-perm</code>，也是不行的。错误提示：好像是包在下载过程中超时了！</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903784666103822">神奇的npm - npm i时提示sha512错误</a></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">rm -rf package-lock.json node_modules &amp;&amp; npm cache clean --force &amp;&amp; npm install</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/13/npm%E6%88%96yarn%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E5%B8%B8%E8%A7%81%E7%9A%84warn%E5%8F%8Aerror/" data-id="cmcro5lmg003xqkk41lo14ep7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-npm与yarn对peerDependencies处理的差异" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/10/npm%E4%B8%8Eyarn%E5%AF%B9peerDependencies%E5%A4%84%E7%90%86%E7%9A%84%E5%B7%AE%E5%BC%82/" class="article-date">
  <time datetime="2021-09-10T14:57:06.000Z" itemprop="datePublished">2021-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/10/npm%E4%B8%8Eyarn%E5%AF%B9peerDependencies%E5%A4%84%E7%90%86%E7%9A%84%E5%B7%AE%E5%BC%82/">npm与yarn对peerDependencies处理的差异</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="介绍">介绍</h3>
<p>看(文章)[<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/237532427">https://zhuanlan.zhihu.com/p/237532427</a>]</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/10/npm%E4%B8%8Eyarn%E5%AF%B9peerDependencies%E5%A4%84%E7%90%86%E7%9A%84%E5%B7%AE%E5%BC%82/" data-id="cmcro5lmj0041qkk4h9so8ic7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Nodejs项目使用npm与使用yarn表现效果的一次记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/09/06/Nodejs%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8npm%E4%B8%8E%E4%BD%BF%E7%94%A8yarn%E8%A1%A8%E7%8E%B0%E6%95%88%E6%9E%9C%E7%9A%84%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95/" class="article-date">
  <time datetime="2021-09-06T02:35:06.000Z" itemprop="datePublished">2021-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/09/06/Nodejs%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8npm%E4%B8%8E%E4%BD%BF%E7%94%A8yarn%E8%A1%A8%E7%8E%B0%E6%95%88%E6%9E%9C%E7%9A%84%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95/">Nodejs项目使用npm与使用yarn表现效果的一次记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="说明">说明</h3>
<p>自己封装 enn-pc-me 的脚手架。使用 yarn npm 安装有很大的区别</p>
<h3 id="记录">记录</h3>
<p>使用 yarn 安装，提示如下：<br>
<img src="https://file.798run.top/img/blog/20210907/yarn_i.png" alt="yarn 安装"></p>
<p>使用 npm 安装，提示如下：</p>
<p><img src="https://file.798run.top/img/blog/20210907/npm_i_1.png" alt="npm 安装1"><br>
<img src="https://file.798run.top/img/blog/20210907/npm_i_2.png" alt="npm 安装2"><br>
<img src="https://file.798run.top/img/blog/20210907/npm_i_3.png" alt="npm 安装3"><br>
<img src="https://file.798run.top/img/blog/20210907/npm_i_4.png" alt="npm 安装4"></p>
<h3 id="问题">问题</h3>
<ul>
<li>
<p>1、为什么上面有如此大的不同？猜想一：是依赖包在各个仓库（npm 源、yarn 源）里提交的版本不一致？猜想二：是npm 源、yarn 源自己没有更新吗？</p>
</li>
<li>
<p>2、由上面截图可知 npm i 时，执行了脚本，为啥 yarn 没有执行记录？</p>
</li>
</ul>
<hr>
<h3 id="更新文档（npm、yarn-安装-core-js-package-json-对比）">更新文档（npm、yarn 安装 core-js package.json 对比）</h3>
<p>从新使用 enn 构建了新的项目，先后使用 npm、yarn 安装，直接到 node_modules 里面找 core-js 发现 2 则安装的 pkg 内容并不一样，这里仅对比了 core-js：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm core-js package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;_from&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js@^2.6.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js@2.6.12&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_inBundle&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_integrity&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sha1-2TM9+nsGXjR8xWgiGdb2kIWcwuw=&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_location&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/core-js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_phantomChildren&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_requested&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;range&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;registry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;raw&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js@^2.6.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;escapedName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rawSpec&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.6.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;saveSpec&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;fetchSpec&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.6.5&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_requiredBy&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;/@babel/runtime-corejs2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;/@vue/babel-preset-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;/babel-runtime&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_resolved&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://registry.nlark.com/core-js/download/core-js-2.6.12.tgz?cache=0&amp;sync_timestamp=1630603316188&amp;other_urls=https%3A%2F%2Fregistry.nlark.com%2Fcore-js%2Fdownload%2Fcore-js-2.6.12.tgz&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_shasum&quot;</span><span class="punctuation">:</span> <span class="string">&quot;d9333dfa7b065e347cc5682219d6f690859cc2ec&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_spec&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js@^2.6.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_where&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:\\Application\\spa\\enn-builder33&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bugs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://github.com/zloirock/core-js/issues&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;bundleDependencies&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deprecated&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js@&lt;3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Standard library&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;LiveScript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.3.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;es-observable-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4.19.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint-plugin-import&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.12.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-copy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-uglify&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3.3.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-watch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-karma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-livescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.6.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-chrome-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-firefox-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-ie-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-phantomjs-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-qunit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;phantomjs-prebuilt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.1.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;promises-aplus-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;qunit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.6.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;temp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.8.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.11.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;homepage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://github.com/zloirock/core-js#readme&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;ES3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2015&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2016&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2017&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2015&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2016&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2017&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Harmony&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Strawman&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Map&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Set&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;WeakMap&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;WeakSet&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Promise&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Symbol&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;TypedArray&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;setImmediate&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Dict&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;polyfill&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;shim&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MIT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;repository&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git+https://github.com/zloirock/core-js.git&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;grunt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;grunt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint ./&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;observables-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node tests/observables/adapter &amp;&amp; node tests/observables/adapter-library&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;postinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node -e \&quot;try&#123;require(&#x27;./postinstall&#x27;)&#125;catch(e)&#123;&#125;\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;promises-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;promises-aplus-tests tests/promises-aplus/adapter&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run grunt clean copy &amp;&amp; npm run lint &amp;&amp; npm run grunt livescript client karma:default &amp;&amp; npm run grunt library karma:library &amp;&amp; npm run promises-tests &amp;&amp; npm run observables-tests &amp;&amp; lsc tests/commonjs&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.6.12&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>然而 yarn v1.22.4 的 package.json 如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;core-js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Standard library&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.6.12&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;repository&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;git&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://github.com/zloirock/core-js.git&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;LiveScript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.3.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;es-observable-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4.19.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eslint-plugin-import&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.12.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-copy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-uglify&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3.3.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-contrib-watch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-karma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;grunt-livescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.6.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-qunit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-chrome-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-firefox-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-ie-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;karma-phantomjs-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;phantomjs-prebuilt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.1.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;promises-aplus-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;qunit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.6.x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;temp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.8.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.11.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;grunt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;grunt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint ./&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;promises-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;promises-aplus-tests tests/promises-aplus/adapter&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;observables-tests&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node tests/observables/adapter &amp;&amp; node tests/observables/adapter-library&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run grunt clean copy &amp;&amp; npm run lint &amp;&amp; npm run grunt livescript client karma:default &amp;&amp; npm run grunt library karma:library &amp;&amp; npm run promises-tests &amp;&amp; npm run observables-tests &amp;&amp; lsc tests/commonjs&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;postinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node -e \&quot;try&#123;require(&#x27;./postinstall&#x27;)&#125;catch(e)&#123;&#125;\&quot;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MIT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;ES3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2015&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2016&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ES2017&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2015&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2016&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;ECMAScript 2017&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Harmony&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Strawman&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Map&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Set&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;WeakMap&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;WeakSet&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Promise&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Symbol&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;TypedArray&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;setImmediate&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Dict&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;polyfill&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;shim&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>后者比前者少了一些字段！猜想：难道是 yarn 的版本问题所致？</p>
<h3 id="（npm、yarn-安装的日志对比）">（npm、yarn 安装的日志对比）</h3>
<p>npm-install-console-log</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">PS D:\Application\spa\enn-builder33&gt; npm i</span><br><span class="line">npm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.</span><br><span class="line">npm WARN deprecated axios@0.18.1: Critical security vulnerability fixed <span class="keyword">in</span> v0.21.1. For more information, see https://github.com/axios/axios/pull/3410</span><br><span class="line">npm WARN deprecated core-js@2.6.12: core-js@&lt;3.3 is no longer maintained and not recommended <span class="keyword">for</span> usage due to the number of issues. Because of the V8 engine whims, feature detection <span class="keyword">in</span> old core-js versions could cause a slowdown up to 100x even <span class="keyword">if</span> nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.</span><br><span class="line">npm WARN deprecated eslint-loader@2.2.1: This loader has been deprecated. Please use eslint-webpack-plugin</span><br><span class="line">npm WARN deprecated html-webpack-plugin@3.2.0: 3.x is no longer supported</span><br><span class="line">npm WARN deprecated @hapi/joi@15.1.1: joi is leaving the @hapi organization and moving back to <span class="string">&#x27;joi&#x27;</span> (https://github.com/sideway/joi/issues/2411)</span><br><span class="line">npm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142</span><br><span class="line">npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142</span><br><span class="line">npm WARN deprecated chokidar@2.1.8: Chokidar 2 will <span class="built_in">break</span> on node v14+. Upgrade to chokidar 3 with 15x less dependencies.</span><br><span class="line">npm WARN deprecated @hapi/address@2.1.4: Moved to <span class="string">&#x27;npm install @sideway/address&#x27;</span></span><br><span class="line">npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">npm WARN deprecated har-validator@5.1.5: this library is no longer supported</span><br><span class="line">npm WARN deprecated fsevents@1.2.13: fsevents 1 will <span class="built_in">break</span> on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.</span><br><span class="line">npm WARN deprecated querystring@0.2.0: The</span><br><span class="line">npm WARN deprecated joi@11.4.0: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade</span><br><span class="line">at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">npm WARN deprecated circular-json@0.3.3: CircularJSON is <span class="keyword">in</span> maintenance only, flatted is its successor.</span><br><span class="line">npm WARN deprecated hoek@4.2.1: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade</span><br><span class="line">at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">npm WARN deprecated topo@2.0.2: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade</span><br><span class="line">at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated</span><br><span class="line">npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated</span><br><span class="line"></span><br><span class="line">&gt; yorkie@2.0.0 install D:\Application\spa\enn-builder33\node_modules\yorkie</span><br><span class="line">&gt; node bin/install.js</span><br><span class="line"></span><br><span class="line">setting up Git hooks</span><br><span class="line">can<span class="string">&#x27;t find .git directory, skipping Git hooks installation</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; husky@4.3.8 install D:\Application\spa\enn-builder33\node_modules\husky</span></span><br><span class="line"><span class="string">&gt; node husky install</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">husky &gt; Setting up git hooks</span></span><br><span class="line"><span class="string">git rev-parse command failed. Got fatal: not a git repository (or any of the parent directories): .git</span></span><br><span class="line"><span class="string">husky &gt; Failed to install</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; core-js@3.17.2 postinstall D:\Application\spa\enn-builder33\node_modules\@commitlint\cli\node_modules\core-js</span></span><br><span class="line"><span class="string">&gt; node -e &quot;try&#123;require(&#x27;</span>./postinstall<span class="string">&#x27;)&#125;catch(e)&#123;&#125;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The project needs your help! Please consider supporting of core-js:</span></span><br><span class="line"><span class="string">&gt; https://opencollective.com/core-js</span></span><br><span class="line"><span class="string">&gt; https://patreon.com/zloirock</span></span><br><span class="line"><span class="string">&gt; https://paypal.me/zloirock</span></span><br><span class="line"><span class="string">&gt; bitcoin: bc1qlea7544qtsmj2rayg0lthvza9fau63ux0fstcz</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; core-js@2.6.12 postinstall D:\Application\spa\enn-builder33\node_modules\core-js</span></span><br><span class="line"><span class="string">&gt; node -e &quot;try&#123;require(&#x27;</span>./postinstall<span class="string">&#x27;)&#125;catch(e)&#123;&#125;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon:</span></span><br><span class="line"><span class="string">&gt; https://opencollective.com/core-js</span></span><br><span class="line"><span class="string">&gt; https://www.patreon.com/zloirock</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ejs@2.7.4 postinstall D:\Application\spa\enn-builder33\node_modules\ejs</span></span><br><span class="line"><span class="string">&gt; node ./postinstall.js</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; husky@4.3.8 postinstall D:\Application\spa\enn-builder33\node_modules\husky</span></span><br><span class="line"><span class="string">&gt; opencollective-postinstall || exit 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for using husky!</span></span><br><span class="line"><span class="string">If you rely on this package, please consider supporting our open collective:</span></span><br><span class="line"><span class="string">&gt; https://opencollective.com/husky/donate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">npm notice created a lockfile as package-lock.json. You should commit this file.</span></span><br><span class="line"><span class="string">npm WARN vuex@3.6.2 requires a peer of vue@^2.0.0 but none is installed. You must install peer dependencies yourself.</span></span><br><span class="line"><span class="string">npm WARN @vue/eslint-config-prettier@6.0.0 requires a peer of eslint-plugin-prettier@^3.1.0 but none is installed. You must install peer dependencies yourself.</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules\fsevents):</span></span><br><span class="line"><span class="string">Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; ejs@2.7.4 postinstall D:\Application\spa\enn-builder33\node_modules\ejs</span></span><br><span class="line"><span class="string">&gt; node ./postinstall.js</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; husky@4.3.8 postinstall D:\Application\spa\enn-builder33\node_modules\husky</span></span><br><span class="line"><span class="string">&gt; opencollective-postinstall || exit 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Thank you for using husky!</span></span><br><span class="line"><span class="string">If you rely on this package, please consider supporting our open collective:</span></span><br><span class="line"><span class="string">&gt; https://opencollective.com/husky/donate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">npm notice created a lockfile as package-lock.json. You should commit this file.</span></span><br><span class="line"><span class="string">npm WARN vuex@3.6.2 requires a peer of vue@^2.0.0 but none is installed. You must install peer dependencies yourself.</span></span><br><span class="line"><span class="string">npm WARN @vue/eslint-config-prettier@6.0.0 requires a peer of eslint-plugin-prettier@^3.1.0 but none is installed. You must install peer dependencies yourself.</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.2 (node_modules\fsevents):</span></span><br><span class="line"><span class="string">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (cu&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">added 1753 packages from 743 contributors in 237.669s</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">95 packages are looking for funding</span></span><br><span class="line"><span class="string">  run `npm fund` for details</span></span><br></pre></td></tr></table></figure>
<p>yarn-install-console-log</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">PS D:\Application\spa\enn-builder33&gt; yarn</span><br><span class="line">yarn install v1.22.4</span><br><span class="line">info No lockfile found.</span><br><span class="line">[1/4] Resolving packages...</span><br><span class="line">warning axios@0.18.1: Critical security vulnerability fixed <span class="keyword">in</span> v0.21.1. For more information, see https://github.com/axios/axios/pull/3410</span><br><span class="line">warning core-js@2.6.12: core-js@&lt;3.3 is no longer maintained and not recommended <span class="keyword">for</span> usage due to the number of issues. Because of</span><br><span class="line">the V8 engine whims, feature detection <span class="keyword">in</span> old core-js versions could cause a slowdown up to 100x even <span class="keyword">if</span> nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/babel-preset-app &gt; core-js@2.6.12: core-js@&lt;3.3 is no longer maintained and not recommended <span class="keyword">for</span> usage due to the number of issues. Because of the V8 engine whims, feature detection <span class="keyword">in</span> old core-js versions could cause a slowdown up to 100x even <span class="keyword">if</span> nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi@15.1.1: joi is leaving the @hapi organization and moving back to</span><br><span class="line"><span class="string">&#x27;joi&#x27;</span> (https://github.com/sideway/joi/issues/2411)</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/babel-preset-app &gt; @babel/runtime-corejs2 &gt; core-js@2.6.12: core-js@&lt;3.3 is no longer maintained and not recommended <span class="keyword">for</span> usage due to the number of issues. Because of the V8 engine whims, feature detection <span class="keyword">in</span> old core-js versions could cause a slowdown up to 100x even <span class="keyword">if</span> nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi &gt; @hapi/bourne@1.3.2: This version has been deprecated and is no</span><br><span class="line">longer supported or maintained</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi &gt; @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi &gt; @hapi/address@2.1.4: Moved to <span class="string">&#x27;npm install @sideway/address&#x27;</span></span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi &gt; @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; @hapi/joi &gt; @hapi/topo &gt; @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained</span><br><span class="line">warning @vue/cli-plugin-babel &gt; @vue/cli-shared-utils &gt; request &gt; har-validator@5.1.5: this library is no longer supported</span><br><span class="line">warning @vue/cli-plugin-babel &gt; webpack &gt; watchpack &gt; watchpack-chokidar2 &gt; chokidar@2.1.8: Chokidar 2 will <span class="built_in">break</span> on node v14+. Upgrade to chokidar 3 with 15x less dependencies.</span><br><span class="line">warning @vue/cli-plugin-babel &gt; webpack &gt; node-libs-browser &gt; url &gt; querystring@0.2.0: The</span><br><span class="line">warning @vue/cli-plugin-babel &gt; webpack &gt; watchpack &gt; watchpack-chokidar2 &gt; chokidar &gt; fsevents@1.2.13: fsevents 1 will <span class="built_in">break</span> on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.</span><br><span class="line">warning @vue/cli-plugin-babel &gt; webpack &gt; micromatch &gt; snapdragon &gt; source-map-resolve &gt; resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated</span><br><span class="line">warning @vue/cli-plugin-babel &gt; webpack &gt; micromatch &gt; snapdragon &gt; source-map-resolve &gt; urix@0.1.0: Please see https://github.com/lydell/urix#deprecated</span><br><span class="line">warning @vue/cli-plugin-eslint &gt; babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.</span><br><span class="line">warning @vue/cli-plugin-eslint &gt; eslint-loader@2.2.1: This loader has been deprecated. Please use eslint-webpack-plugin</span><br><span class="line">warning @vue/cli-plugin-eslint &gt; eslint &gt; file-entry-cache &gt; flat-cache &gt; circular-json@0.3.3: CircularJSON is <span class="keyword">in</span> maintenance only, flatted is its successor.</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; babel-runtime &gt; core-js@2.6.12: core-js@&lt;3.3 is no longer maintained and not recommended <span class="keyword">for</span> usage due to the number of issues. Because of the V8 engine whims, feature detection <span class="keyword">in</span> old core-js versions could cause a slowdown up to 100x even <span class="keyword">if</span> nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi@11.4.0: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; hoek@4.2.1: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and</span><br><span class="line">security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; topo@2.0.2: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and</span><br><span class="line">security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; topo &gt; hoek@4.2.1: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-service &gt; html-webpack-plugin@3.2.0: 3.x is no longer supported</span><br><span class="line">warning @vue/cli-service &gt; webpack-dev-server &gt; chokidar@2.1.8: Chokidar 2 will <span class="built_in">break</span> on node v14+. Upgrade to chokidar 3 with 15x</span><br><span class="line">less dependencies.</span><br><span class="line">warning babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.</span><br><span class="line">[2/4] Fetching packages...</span><br><span class="line">warning url-loader@1.1.2: Invalid bin field <span class="keyword">for</span> <span class="string">&quot;url-loader&quot;</span>.</span><br><span class="line">info fsevents@2.3.2: The platform <span class="string">&quot;win32&quot;</span> is incompatible with this module.</span><br><span class="line">info <span class="string">&quot;fsevents@2.3.2&quot;</span> is an optional dependency and failed compatibility check. Excluding it from installation.</span><br><span class="line">info fsevents@1.2.13: The platform <span class="string">&quot;win32&quot;</span> is incompatible with this module.</span><br><span class="line">info <span class="string">&quot;fsevents@1.2.13&quot;</span> is an optional dependency and failed compatibility check. Excluding it from installation.</span><br><span class="line">[3/4] Linking dependencies...</span><br><span class="line">warning <span class="string">&quot; &gt; vuex@3.6.2&quot;</span> has unmet peer dependency <span class="string">&quot;vue@^2.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; @vue/eslint-config-prettier@6.0.0&quot;</span> has unmet peer dependency <span class="string">&quot;eslint-plugin-prettier@^3.1.0&quot;</span>.</span><br><span class="line">ith the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; hoek@4.2.1: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and</span><br><span class="line">security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; topo@2.0.2: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and</span><br><span class="line">security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-plugin-pwa &gt; workbox-webpack-plugin &gt; workbox-build &gt; joi &gt; topo &gt; hoek@4.2.1: This version has been deprecated <span class="keyword">in</span> accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this <span class="keyword">time</span>, paid support is available <span class="keyword">for</span> older versions (hapi.im/commercial).</span><br><span class="line">warning @vue/cli-service &gt; html-webpack-plugin@3.2.0: 3.x is no longer supported</span><br><span class="line">warning @vue/cli-service &gt; webpack-dev-server &gt; chokidar@2.1.8: Chokidar 2 will <span class="built_in">break</span> on node v14+. Upgrade to chokidar 3 with 15x</span><br><span class="line">less dependencies.</span><br><span class="line">warning babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.</span><br><span class="line">[2/4] Fetching packages...</span><br><span class="line">warning url-loader@1.1.2: Invalid bin field <span class="keyword">for</span> <span class="string">&quot;url-loader&quot;</span>.</span><br><span class="line">info fsevents@2.3.2: The platform <span class="string">&quot;win32&quot;</span> is incompatible with this module.</span><br><span class="line">info <span class="string">&quot;fsevents@2.3.2&quot;</span> is an optional dependency and failed compatibility check. Excluding it from installation.</span><br><span class="line">info fsevents@1.2.13: The platform <span class="string">&quot;win32&quot;</span> is incompatible with this module.</span><br><span class="line">info <span class="string">&quot;fsevents@1.2.13&quot;</span> is an optional dependency and failed compatibility check. Excluding it from installation.</span><br><span class="line">[3/4] Linking dependencies...</span><br><span class="line">warning <span class="string">&quot; &gt; vuex@3.6.2&quot;</span> has unmet peer dependency <span class="string">&quot;vue@^2.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; @vue/eslint-config-prettier@6.0.0&quot;</span> has unmet peer dependency <span class="string">&quot;eslint-plugin-prettier@^3.1.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; compression-webpack-plugin@3.1.0&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^4.3.0 || ^5.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; copy-webpack-plugin@5.1.2&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^4.0.0 || ^5.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; copy-webpack-plugin@5.1.2&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^4.0.0 || ^5.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; less-loader@6.2.0&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^4.0.0 || ^5.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; style-resources-loader@1.4.1&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^3.0.0 || ^4.0.0 || ^5.0.0&quot;</span>.</span><br><span class="line">warning <span class="string">&quot; &gt; uglifyjs-webpack-plugin@2.2.0&quot;</span> has unmet peer dependency <span class="string">&quot;webpack@^4.0.0&quot;</span>.</span><br><span class="line">[4/4] Building fresh packages...</span><br><span class="line">success Saved lockfile.</span><br><span class="line">Done <span class="keyword">in</span> 206.53s.</span><br></pre></td></tr></table></figure>
<h3 id="（npm、yarn-init-项目对比）">（npm、yarn init 项目对比）</h3>
<ul>
<li>npm 初始化package.json如下：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>yarn 初始化package.json如下：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;MIT&quot;</span>,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;webpack&quot;</span>: <span class="string">&quot;^5.0.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可看出 npm init 字段丰富一些。二则执照也不一样！</p>
<h3 id="（npm、yarn-安装对比）">（npm、yarn 安装对比）</h3>
<ul>
<li><code>npm i webpack@^5.0.0</code> 表现形式版本即为 <code>&quot;webpack&quot;: &quot;^5.0.0&quot;</code>，但是 <code>yarn add webpack@^5.0.0</code> 表现形式为 <code>&quot;webpack&quot;: &quot;5.0.0&quot;</code></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/06/Nodejs%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8npm%E4%B8%8E%E4%BD%BF%E7%94%A8yarn%E8%A1%A8%E7%8E%B0%E6%95%88%E6%9E%9C%E7%9A%84%E4%B8%80%E6%AC%A1%E8%AE%B0%E5%BD%95/" data-id="cmcro5ll2001oqkk4apff9k1a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Jenkins安装记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/04/Jenkins%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/" class="article-date">
  <time datetime="2021-05-04T09:55:06.000Z" itemprop="datePublished">2021-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/05/04/Jenkins%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/">Jenkins安装记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="说明">说明</h3>
<p>20210504 假期在家，试着在“亚亚阿里云”安装一下 Jenkins，首先是参考了这篇<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUzNjk5MTE1OQ==&amp;mid=2247501427&amp;idx=1&amp;sn=1f74291ba4217f164add273a299a1ed2&amp;chksm=faef42abcd98cbbd29ddb102a7aea350afc28793abe8da9f373590b0d3f018c2bd1f9960fadb&amp;scene=132#wechat_redirect">文章</a>，因为 Jenkins 需要 Java 环境，按照上面的文章，首先执行：<code>yum install -y java</code>。随后步骤：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">cd</span>  /data</span><br><span class="line"></span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/jenkins/redhat-stable/jenkins-2.277.2-1.1.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="built_in">sudo</span> yum install jenkins-2.277.2-1.1.noarch.rpm</span><br></pre></td></tr></table></figure>
<p>看到上面脚本中有在根目录下创建了 data 目录，我没有采纳，于是我在 /root 目录下执行了上面的脚本。最后 Jenkins 还是不能使用，就是在浏览器上不能访问 Jenkins 服务。</p>
<p>思考是不是因为我安装的 java 环境的问题，发现我网上很多都是安装 jdk 而不是直接执行 <code>yum uninstall -y java</code>，于是决定全部卸载</p>
<h3 id="过程">过程</h3>
<p>步骤一：卸载 Jenkins：执行了<code>yum -y remove jenkins</code>，网上还有一种卸载的方法 <code>rpm -qc jenkins</code>，我又执行了一次，提示：<code>error: package jenkins is not installed</code>。 随后把 Jenkins 的相关文件清理干净执行：<br>
<code>find / -iname jenkins | xargs -n 1000 rm -rf</code></p>
<p>步骤二：卸载 java，执行：<code>yum uninstall -y java</code>，提示：No such command: uninstall. Please use /usr/bin/yum --help<br>
It could be a DNF plugin command, try: “dnf install ‘dnf-command(uninstall)’”，记录到这里我发现自己眼瞎，卸载 Jenkins 使用的指令是 remove，自己为啥卸载 java 使用自己独创的 uninstall，真是太马虎了。于是输入指令： <code>rpm -qa|grep java </code> //查看 jdk 的信息，得到如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tzdata-java-2021a-1.el8.noarch</span><br><span class="line">javapackages-filesystem-5.3.0-1.module_el8.0.0+11+5b8c10bd.noarch</span><br><span class="line">java-1.8.0-openjdk-1.8.0.292.b10-0.el8_3.x86_64</span><br><span class="line">java-1.8.0-openjdk-headless-1.8.0.292.b10-0.el8_3.x86_64</span><br></pre></td></tr></table></figure>
<p>执行：<code>yum -y remove tzdata-java-2021a-1.el8.noarch</code>，只需卸载第一个就行了。</p>
<p>参考<a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_155063c740102wmi9.html">新浪帖子</a>。</p>
<p>后来我自己按照上面的新浪帖子，安装了 jdk，继续安装 Jenkins，在正确配置了阿里云的安全组之后，终于可以访问了！</p>
<h3 id="成功之后记录">成功之后记录</h3>
<ul>
<li>
<p>主要参考<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/UArV_CTQ27MuSXljHAxwXQ">学会使用 Jenkins 自动部署你的项目</a></p>
</li>
<li>
<p>我的 Jenkins 的一些信息：</p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/var/lib/jenkins/secrets/initialAdminPassword</span><br><span class="line">ec0471264ace471f8bd3654cfa331e63</span><br><span class="line">Jenkins 2.277.2</span><br></pre></td></tr></table></figure>
<p>参考：<a target="_blank" rel="noopener" href="https://juejin.cn/book/6897616008173846543/section/6901971104106512392">从 0 到 1 实现一套 CI/CD 流程</a></p>
<h3 id="一些记录">一些记录</h3>
<p>在安装完之后，配置 Jenkins 的过程中，参考了创值回顾中 Jenkins 的配置，不解的是为哈必须使用 node 插件而不能使用机器上自身的 node 呢？</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const &#123; spawnSync &#125; = require(<span class="string">&#x27;child_process&#x27;</span>);</span><br><span class="line">console.log(<span class="string">&#x27;开始执行npm安装&#x27;</span>)</span><br><span class="line">const  installEcho = spawnSync(<span class="string">&#x27;npm&#x27;</span>, [<span class="string">&#x27;install&#x27;</span>, <span class="string">&#x27;--registry=https://registry.npm.taobao.org&#x27;</span>])</span><br><span class="line"></span><br><span class="line">console.log(installEcho)</span><br><span class="line"></span><br><span class="line">console.log(<span class="string">&#x27;开始执行打包&#x27;</span>)</span><br><span class="line">const buildEcho = spawnSync(<span class="string">&#x27;npm&#x27;</span>, [<span class="string">&#x27;run&#x27;</span>, <span class="string">&#x27;build&#x27;</span>])</span><br><span class="line">console.log(buildEcho)</span><br><span class="line"></span><br><span class="line">Cache location   Default (~/.npm or %APP_DATA%\npm-cache)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://file.798run.top/img/blog/20210531/Jenkins-node-build.jpg" alt="Jenkins-node-build"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/05/04/Jenkins%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/" data-id="cmcro5lkz001bqkk4052x0nye" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IT-%E5%B7%A5%E5%85%B7-%E6%95%B0%E7%A0%81/" rel="tag">IT-工具-数码</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <!-- &laquo; -->
    <!-- &raquo; -->
    
    <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/3/">Next</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS%E7%9B%B8%E5%85%B3/" rel="tag">CSS相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Form%E8%A1%A8%E5%8D%95%E7%9B%B8%E5%85%B3/" rel="tag">Form表单相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git%E7%9B%B8%E5%85%B3/" rel="tag">Git相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/" rel="tag">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT-%E5%B7%A5%E5%85%B7-%E6%95%B0%E7%A0%81/" rel="tag">IT-工具-数码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS%E7%9B%B8%E5%85%B3/" rel="tag">JS相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/" rel="tag">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Table%E7%9B%B8%E5%85%B3/" rel="tag">Table相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web%E6%9D%82%E9%9B%86/" rel="tag">Web杂集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layui%E7%9B%B8%E5%85%B3/" rel="tag">layui相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" rel="tag">代码片段</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E7%B2%BE%E8%BF%9B/" rel="tag">前端精进</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9D%E5%A1%94/" rel="tag">宝塔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">May 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">April 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/05/05/CSS%E4%B9%8Bflex/">CSS之flex</a>
          </li>
        
          <li>
            <a href="/2025/04/14/prettier%E4%BB%8B%E7%BB%8D/">prettier介绍</a>
          </li>
        
          <li>
            <a href="/2025/04/14/vite%E4%BB%8B%E7%BB%8D/">vite介绍</a>
          </li>
        
          <li>
            <a href="/2025/03/23/js%E5%8E%9F%E7%94%9F%E6%B7%BB%E5%8A%A0class/">js原生添加class</a>
          </li>
        
          <li>
            <a href="/2025/03/13/%E9%9D%A2%E8%AF%95%E4%B9%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E7%89%87%E6%AE%B5/">面试之代码执行片段</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Andy Zhang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>